!function(e,t){var a=function(e){var t=e.url.replace(/jQuery.*/,"");return e.cache===!1&&(t=t.replace(/([?&])_=[^&]*/,"")),e.cacheKey||t+e.type+(e.data||"")},c=function(e){if(!e)return!1;if(e===!0)return t.localStorage;if("object"==typeof e&&"getItem"in e&&"removeItem"in e&&"setItem"in e)return e;throw new TypeError("localCache must either be a boolean value, or an object which implements the Storage interface.")};e.ajaxPrefilter(function(e){var t,r,n=c(e.localCache),o=e.cacheTTL||5,s=a(e),i=e.isCacheValid;n&&(t=n.getItem(s+"cachettl"),i&&"function"==typeof i&&!i()&&n.removeItem(s),t&&t<+new Date&&(n.removeItem(s),n.removeItem(s+"cachettl"),t=0),r=n.getItem(s),r||(e.success&&(e.realsuccess=e.success),e.success=function(t){var a=t;0===this.dataType.toLowerCase().indexOf("json")&&(a=JSON.stringify(t));try{n.setItem(s,a)}catch(c){n.removeItem(s),n.removeItem(s+"cachettl")}e.realsuccess&&e.realsuccess(t)},t||n.setItem(s+"cachettl",+new Date+36e5*o)))}),e.ajaxTransport("+*",function(e){if(e.localCache){var t=a(e),r=c(e.localCache),n=r?r.getItem(t):!1;if(n)return 0===e.dataType.toLowerCase().indexOf("json")&&(n=JSON.parse(n)),{send:function(t,a){var c={};c[e.dataType]=n,a(200,"success",c,"")},abort:function(){}}}})}(jQuery,window);
