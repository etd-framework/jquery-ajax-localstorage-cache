!function(e){var o=function(e){var o=e.url.replace(/jQuery.*/,"");return e.cache===!1&&(o=o.replace(/([?&])_=[^&]*/,"")),e.cacheKey||o+e.type+(e.data||"")},a=function(e){return!("object"==typeof e&&"getItem"in e&&"removeItem"in e&&"setItem"in e)};e.ajaxPrefilter(function(e){if("undefined"!=typeof e.localCache){var t=e.localCache===!0?window.localStorage:e.localCache;if(!a(t))return void console.log("Ajax Local Storage [Storage Error]: The local cache option is not a valid Storage object");var c=o(e),r=e.isCacheValid;r&&"function"==typeof r&&r()===!1&&(console.log('Ajax Local Storage: Removing "'+c+'" from the storage'),t.removeItem(c));var n="_cachettl",l=parseInt(t.getItem(c+n));isNaN(l)&&(l=0),l&&l<+new Date&&(console.log('Ajax Local Storage: Removing "'+c+'" and "'+c+'cachettl" from the storage'),t.removeItem(c),t.removeItem(c+n),l=0),t.getItem(c)||(e.success&&(e.realsuccess=e.success),e.success=function(o){var a=o;0===this.dataType.toUpperCase().indexOf("JSON")&&(console.log("Ajax Local Storage: Stringifying to json"),a=JSON.stringify(o));try{t.setItem(c,a)}catch(r){t.removeItem(c),t.removeItem(c+n),console.log("Ajax Local Storage [Cache Error]:"+r,c,a)}e.realsuccess&&e.realsuccess(o)},0===l&&t.setItem(c+n,+new Date+36e5*(e.cacheTTL>0?e.cacheTTL:1)))}}),e.ajaxTransport("+*",function(e){if("undefined"!=typeof e.localCache&&e.localCache){var t=e.localCache===!0?window.localStorage:e.localCache;if(!a(t))return void console.log("Ajax Local Storage [Storage Error]: The local cache option is not a valid Storage object");var c=o(e),r=t.getItem(c);if(r)return 0===e.dataType.toUpperCase().indexOf("JSON")&&(console.log("Ajax Local Storage: Parsing as json"),r=JSON.parse(r)),{send:function(o,a){console.log("Ajax Local Storage: Sending to complete callback function");var t={};t[e.dataType]=r,a(200,"success",t,"")},abort:function(){console.log("Ajax Local Storage [Error]: Aborted ajax transport for json cache")}}}})}(jQuery,Storage);