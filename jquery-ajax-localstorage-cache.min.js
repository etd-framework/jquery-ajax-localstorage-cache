!function(e,a){e.ajaxPrefilter(function(e){if("undefined"!=typeof e.localCache){var c=e.localCache===!0?a.localStorage:e.localCache;if(!t(c))return void console.log("Ajax Local Storage [Storage Error]: The local cache option is not a valid Storage-like object");var r=o(e),n=e.isCacheValid;n&&"function"==typeof n&&!n()&&(c.removeItem(r),console.log('Ajax Local Storage: Removing "%s" from the storage',r));var l="string"==typeof e.cacheTTLAppend&&e.cacheTTLAppend.length>0?e.cacheTTLAppend:"_cachettl",s=parseInt(c.getItem(r+l));isNaN(s)&&(s=0),s&&s<+new Date&&(c.removeItem(r),c.removeItem(r+l),s=0,console.log('Ajax Local Storage: Removing "%s" and "%s_cachettl" from the storage',r)),c.getItem(r)?console.log("Ajax Local Storage: It appears the data is already cached in storage"):(e.success&&(e.realsuccess=e.success),e.success=function(a){var o=a;0===this.dataType.toUpperCase().indexOf("JSON")&&(o=JSON.stringify(a),console.log("Ajax Local Storage: Stringifying to json"));try{c.setItem(r,o)}catch(t){c.removeItem(r),c.removeItem(r+l),console.log("Ajax Local Storage [Cache Error]: %o",t,r,o)}e.realsuccess&&e.realsuccess(a)},0===s&&c.setItem(r+l,+new Date+6e4*(e.cacheTTL>0?e.cacheTTL:60)))}}),e.ajaxTransport("+*",function(e){if("undefined"!=typeof e.localCache&&e.localCache){var c=e.localCache===!0?a.localStorage:e.localCache;if(!t(c))return void console.log("Ajax Local Storage [Storage Error]: The local cache option is not a valid Storage object");var r=o(e),n=c.getItem(r);if(n)return 0===e.dataType.toUpperCase().indexOf("JSON")&&(console.log("Ajax Local Storage: Parsing as json"),n=JSON.parse(n)),{send:function(a,o){console.log("Ajax Local Storage: Sending to complete callback function");var t={};t[e.dataType]=n,o(200,"success",t,"")},abort:function(){console.log("Ajax Local Storage [Error]: Aborted ajax transport for json cache")}}}});var o=function(e){if("string"==typeof e.cacheKey&&e.cacheKey.trim().length>0)return e.cacheKey;var a=e.url.replace(/jQuery.*/i,"");return e.cache===!1&&(a=a.replace(/([?&])_=[^&]*/,"")),a+"_"+e.type+(e.data||"")},t=function(e){return"object"==typeof e&&"getItem"in e&&"removeItem"in e&&"setItem"in e}}(jQuery,window,document);